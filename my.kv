ScreenManager:
    LoginScreen:
    RegistrationScreen:
    ProfileScreen:

<LoginScreen>:
    passw: passw
    email: email
    name: 'login'
    FloatLayouts:

        Image:
            source: 'images/devis.gif'
            size_hint_x: .5
            pos_hint: {'center_x':0.5,'center_y':0.86}

        MDTextFieldRound:
            id: email
#            text:""
            size_hint: .8, .06
            icon_left: 'email-open'
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Email"
            pos_hint: {'center_x':0.5,'center_y':0.7}

        MDTextFieldRound:
            id: passw
#            text:""
            size_hint: .8, .06
            icon_left: 'lock'
            #icon_right: 'eye-off'
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Password"
            password: True
            pos_hint: {'center_x':0.5,'center_y':0.6}

        MDIconButton:
            icon: 'eye'
            pos_hint: {'center_x':0.9,'center_y':0.6}
            on_press:
                root.hide()

        Buttons:
            text: 'Sign In'
            size_hint: .5, None
            pos_hint: {'center_x':0.5,'center_y':0.5}
            on_press:
                root.sign_in()

        Buttons:
            text: 'Create New Account'
            pos_hint: {'center_x':0.5,'center_y':0.1}
            on_press:
                root.manager.current = 'registration'
                root.manager.transition.direction = 'left'

        Label:
            text: "Devis Laboratory"
#            font_size: '10dp'
            size_hint: .1, .05
            pos_hint: {'x':0.75,'y':0.001}

<RegistrationScreen>:
    name: 'registration'
    passwreg: passwreg
    username: username
    firstname: firstname
    surname: surname
    country: country
    emailreg: emailreg
    male: male
    female: female
    photo: photo

    FloatLayouts:

        MDTextFieldRound:
            id: username
            size_hint: .8, .06
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Username"
            pos_hint: {'center_x':0.5,'center_y':0.9}

        MDTextFieldRound:
            id: firstname
            size_hint: .33, .06
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Name"
            pos_hint: {'center_x':0.265,'center_y':0.8}

        MDTextFieldRound:
            id: surname
            size_hint: .33, .06
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Surname"
            pos_hint: {'center_x':0.73,'center_y':0.8}

        MDTextFieldRound:
            id: country
            size_hint: .8, .06
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Country"
            pos_hint: {'center_x':0.5,'center_y':0.7}

        MDTextFieldRound:
            id: emailreg
            size_hint: .8, .06
            normal_color: 'white'
            color_active: 1, 1, 1, .1
            hint_text: "Email"
            pos_hint: {'center_x':0.5,'center_y':0.6}

        Label:
            text: "Gender"
            font_size: '20dp'
            size_hint: .1, .15
            pos_hint: {'x':0.11,'y':0.43}


        MDBoxLayout:
            adaptive_size: True
            spacing: '35dp'
            pos_hint: {"center_x": .6, "center_y": .5}

            MyToggleButton:
                id: male
                text: "Male"
                md_bg_color: [1,1,1,1]
                text_color: {'normal': (app.theme_cls.primary_color), 'down': (1,1,1,1)} [self.state]
                background_normal: [1,1,1,1]
                background_down: app.theme_cls.primary_color
                group: "x"

            MyToggleButton:
                id: female
                text: "Female"
                md_bg_color: [1,1,1,1]
                text_color: {'normal': (app.theme_cls.primary_color), 'down': (1,1,1,1)} [self.state]
                background_normal: [1,1,1,1]
                background_down: app.theme_cls.primary_color
                group: "x"

        Label:
            text: "Photo"
            font_size: '20dp'
            size_hint: .1, .15
            pos_hint: {'x':0.1,'y':0.33}

        MDFillRoundFlatButton:
            id: photo
            size_hint: .22, .06
            md_bg_color: [82/255, 46/255, 146/255, .45]
            theme_text_color: "Custom"
            text_color: [1,1,1,1]
            text: "Take Photo"
            pos_hint: {'center_x':0.45,'center_y':0.4}
            on_press:
                root.take_photo()

#        MDFillRoundFlatButton:
#            id: loadPhoto
#            size_hint: .22, .06
#            md_bg_color: [82/255, 46/255, 146/255, .45]
#            theme_text_color: "Custom"
#            text_color: [1,1,1,1]
#            text: "LoadPhoto"
#            pos_hint: {'center_x':0.75,'center_y':0.4}
#            on_press:
#                root.load_photo()

    MDTextFieldRound:
        id: passwreg
        size_hint: .8, .06
        normal_color: 'white'
        color_active: 1, 1, 1, .1
        hint_text: "Password"
        password: True
        pos_hint: {'center_x':0.5,'center_y':0.2}

    MDIconButton:
        icon: 'eye'
        pos_hint: {'center_x':0.9,'center_y':0.2}
        on_press:
            root.hide()

    Buttons:
        text: 'Create Account'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press:
            root.manager.current = 'login'
            root.manager.transition.direction = 'right'
            root.registration_complete()
            root.add_to_database()

    Buttons:
        text: 'X'
        pos_hint: {'center_x':0.1,'center_y':0.1}
        on_press:
            root.manager.current = 'login'
            root.manager.transition.direction = 'left'

<ProfileScreen>:
    name: 'profile'
    avatar: ""
    avatar: avatar
    profileNick: profileNick
    FloatLayouts:
        MDCard:
            orientation: "vertical"
            md_bg_color: [255/255, 102/255, 0/255, .35]
            radius: [100]
            size_hint: None, None
            size: "280dp", "250dp"
            pos_hint: {"center_x": .5, "center_y": .77}

            FitImage:
                id: avatar
                source: "Avatar.png"
                radius: [100]
#                size_hint_y: None
                pos_hint: {"center_x": .5, "center_y": .5}

        MDCard:
            orientation: "vertical"
            radius: [100]
            md_bg_color: [255/255, 102/255, 0/255, .35]
            size_hint: None, None
            size: "280dp", "250dp"
            pos_hint: {"center_x": .5, "center_y": .34}
            MDLabel:
            MDLabel:
                id: profileNick
                text: "NickName:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:
                id: profileName
                text: "Name:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:
                id:profileSurname
                text: "Surname:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:
                id:profileCountry
                text: "Country:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:
                id:profileEmail
                text: "Email:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:
                id:profileGender
                text: "Gender:"
                pos_hint: {"x": .1}
                theme_text_color: "Custom"
                text_color: [1,1,1,1]
            MDLabel:

    Buttons:
        text: 'Logout'
        pos_hint: {'center_x':0.5,'center_y':0.075}
        on_press:
            root.manager.current = 'login'
            root.manager.transition.direction = 'right'
#            root.log_out()



<Buttons@MDFillRoundFlatButton>
    md_bg_color: [255/255, 102/255, 0/255, .35]
    font_size: '18dp'
    theme_text_color: "Custom"
    text_color: [1,1,1,1]

<FloatLayouts@FloatLayout>
    canvas.before:
#            Color:
#                rgb: 1, 1, 1
        Rectangle:
            source: 'images/surr.jpg'
            size: self.size